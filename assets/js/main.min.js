function checkStylesLoaded(){return!(!Array.from(document.styleSheets).find(e=>e.href&&e.href.includes("main.min.css"))&&(document.body.style.background="#000",document.body.style.color="#fff",document.body.innerHTML='<div class="error">Стили не загрузились. Обновите страницу.</div>'))}function initializeAll(){try{checkStylesLoaded()&&(initGoogleMaps(),initMenu(),initSpeakersLoadMore(),initScheduleVisibility(),initHideError(),initHeaderScroll(),initMaskPhone(),initSelect(),initPopup(),initTimer(),initMarque(),initSupport())}catch(e){setTimeout(initializeAll,1e3)}}document.addEventListener("DOMContentLoaded",()=>{initializeAll()}),window.addEventListener("load",()=>{var e=document.getElementById("map"),t=document.querySelector(".schedule");e&&!e.innerHTML.trim()&&initGoogleMaps(),t&&!document.querySelector(".shedule-wrapper.active")&&initScheduleVisibility()});let resizeTimeout;function initGoogleMaps(){var e,t;document.getElementById("map")&&window.mapConfig&&window.mapConfig.apiKey&&(window.googleMapsLoading||(window.google&&window.google.maps?initLocationMap():(document.querySelectorAll('script[src*="maps.googleapis.com"]').forEach(e=>e.remove()),document.querySelectorAll('[id*="gmp-"], [class*="gmp-"]').forEach(e=>e.remove()),window.google&&delete window.google,window.googleMapsLoading=!0,e=document.createElement("script"),t=window.mapConfig.language||"uk",Date.now(),e.src=`https://maps.googleapis.com/maps/api/js?key=${window.mapConfig.apiKey}&language=${t}&loading=async&callback=initLocationMap&v=weekly`,e.async=!0,e.defer=!0,e.onerror=function(){window.googleMapsLoading=!1;var e=document.getElementById("map");e&&(e.innerHTML='<div style="padding: 20px; text-align: center; color: #666;">Карта временно недоступна</div>')},document.head.appendChild(e))))}function initLocationMap(){window.googleMapsLoading=!1;var n=document.getElementById("map");if(n&&"undefined"!=typeof google&&google.maps){let e=new google.maps.Map(n,{zoom:16,center:{lat:50.44921066476974,lng:30.5407736837048},styles:[{featureType:"all",elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#333333"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#cccccc"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#333333"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#f0f0f0"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#999999"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#e0e0e0"}]},{featureType:"poi",elementType:"labels.icon",stylers:[{color:"#666666"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e8e8e8"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#d0d0d0"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#333333"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#e0e0e0"}]},{featureType:"transit",elementType:"labels.icon",stylers:[{color:"#666666"}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#f0f0f0"}]},{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#333333"}]}],disableDefaultUI:!0,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM},mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1,gestureHandling:"cooperative"});var s="en"===window.mapConfig.language;let t=new google.maps.Marker({position:{lat:50.44921066476974,lng:30.5407736837048},map:e,title:s?"Parkovy Congress and Exhibition Center":"Парковий Конгресно-виставковий центр",icon:{url:window.location.origin+"/wp-content/themes/conference/assets/images/pin.svg",scaledSize:new google.maps.Size(40,40),anchor:new google.maps.Point(20,40)}}),i=new google.maps.InfoWindow({content:`
      <div style="padding: 3px 10px; max-width: 250px; font-family: 'Manrope', sans-serif;">
        <div style="display: flex; align-items: center; margin-bottom: 3px;">
          <img src="${window.location.origin}/wp-content/themes/conference/assets/images/pin.svg" 
               style="width: 24px; height: 24px; margin-right: 8px;" alt="Pin">
          <span style="font-weight: 700; font-size: 15px; color: #333; text-transform: uppercase;">FULLSET</span>
        </div>
        <div style="text-align: left;">
          <h3 style="margin: 0 0 2px 0; color: #666; font-size: 14px; font-weight: 400; text-align: left;">${s?"Parkovy Congress and Exhibition Center":"Парковий Конгресно-виставковий центр"}</h3>
          <p style="margin: 0; color: #333; font-size: 13px; font-weight: 700; text-align: left;">${s?"Naberezhne Shose, 2":"Набережне шосе, 2"}</p>
        </div>
      </div>
    `});t.addListener("click",()=>{i.open(e,t)})}else n&&(n.innerHTML='<div style="padding: 20px; text-align: center; color: #666;">Карта временно недоступна</div>')}function initMenu(){function e(){$(".btn_nav").off("click.mobileMenu"),$(".header-wrapper li:not(.menu-item-has-children) a").off("click.mobileMenu"),$(window).width()<=1160?($(".btn_nav").on("click.mobileMenu",function(){$(".burger").toggleClass("active"),$(".header-wrapper").is(":hidden")?($("body").addClass("hidden"),setTimeout(function(){$(".header-wrapper").slideDown(200),$(".header-wrapper").css({display:"flex"})},100)):($(".header-wrapper").slideUp(200),setTimeout(function(){},300),$("body").removeClass("hidden"))}),$(".header-wrapper li:not(.menu-item-has-children) a").on("click.mobileMenu",function(){$(".header-wrapper").slideUp(200),$(".burger").removeClass("active"),$("body").removeClass("hidden")})):($(".burger").removeClass("active"),$(".header-wrapper").removeAttr("style"),$("body").removeClass("hidden"))}e(),$(window).on("resize.mobileMenu",function(){e()})}function initSpeakersLoadMore(){if($(window).width()<=600){let s=document.querySelectorAll(".speakers-item"),o=document.querySelector(".load-more-button");if(s.length&&o){let t=o.dataset.lang,i=o.dataset.hide,n=!1;function r(){var e=o.querySelector("span");n?(e.textContent=i,o.classList.add("active")):(e.textContent="en"===t?"Load more":"Завантажити ще",o.classList.remove("active"))}s.forEach((e,t)=>{3<=t&&$(e).hide()}),r(),o.addEventListener("click",function(){var e;n=n?(0<(e=Array.from(s).slice(3)).length&&$(e).slideUp(300,function(){$(this).hide()}),!1):(0<(e=Array.from(s).slice(3)).length&&$(e).slideDown(300),!0),r()})}}}function initScheduleVisibility(){var e=document.querySelector(".schedule");let t=document.querySelector(".shedule-wrapper");e&&t&&(window.scheduleObserver&&window.scheduleObserver.disconnect(),window.scheduleObserver=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting?t.classList.add("active"):t.classList.remove("active")})},{threshold:[0,.1,.3,.5],rootMargin:"0px 0px -5% 0px"}),window.scheduleObserver.observe(e),setTimeout(()=>{t.classList.contains("active")||t.classList.add("active")},2e3))}function initHideError(){document.addEventListener("wpcf7invalid",function(e){let t=$(e.target);setTimeout(function(){let e=t.find(".wpcf7-response-output");e.addClass("error").stop(!0,!0).css("opacity",1).show(),setTimeout(function(){e.fadeOut(400,function(){$(this).removeClass("error").css("display","none")})},3e3)},100)},!1),document.addEventListener("wpcf7mailsent",function(e){var e=$(e.target).closest(".popup-wrapper"),t=e.find(".form-items"),i=e.find("h2");let n=e.find(".popup-success");t.fadeOut(300),i.fadeOut(300,function(){n.css("display","flex").fadeIn(300)})},!1),$(document).on("click",".popup-success .main-button",function(){$(this).closest(".popup-wrapper").fadeOut(300)})}function initHeaderScroll(){var i=0,n=!1;function e(){var e=$(window).scrollTop(),t=$("section:nth-of-type(2)").offset().top;$(window).width()<=768?t<e?i<e?$(".header").addClass("scrolled"):e<i&&$(".header").removeClass("scrolled"):$(".header").removeClass("scrolled"):i<e?$(".header").addClass("scrolled"):$(".header").removeClass("scrolled"),i=e,n=!1}$(window).scroll(function(){n||(requestAnimationFrame(e),n=!0)})}function initMaskPhone(){$(".phone").mask("+380 (99) 999-99-99")}function initSelect(){$(".select").select2({minimumResultsForSearch:1/0}).on("select2:select",function(){$(this).next(".select2-container").find(".select2-selection__rendered").css("opacity","1")}).on("select2:unselect",function(){$(this).next(".select2-container").find(".select2-selection__rendered").css("opacity","0.8")}).on("select2:opening",function(){$(this).next(".select2-container").find(".select2-selection__rendered").css("opacity","1")})}function initPopup(){$(".popup-btn").each(function(){$(this).click(function(e){e.preventDefault(),$("body").addClass("hidden"),$(".popup-wrapper").fadeIn(200),setTimeout(function(){$(".popup").addClass("show")},300),setTimeout(function(){$(".popup-wrapper").css({display:"flex"})},50)})}),$(".close-button").click(function(){$(".popup").removeClass("show"),$("body").removeClass("hidden"),$(".popup-wrapper").fadeOut()})}function initTimer(){window.conferenceTimer=new class{constructor(){this.timerElement=$("#conference-timer"),this.daysElement=$("#timer-days"),this.hoursElement=$("#timer-hours"),this.minutesElement=$("#timer-minutes"),this.secondsElement=$("#timer-seconds"),this.daysLabelElement=$("#timer-days-label"),this.hoursLabelElement=$("#timer-hours-label"),this.minutesLabelElement=$("#timer-minutes-label"),this.secondsLabelElement=$("#timer-seconds-label"),this.pricesElement=$("#timer-prices"),this.interval=null,this.endTime=0,this.isPaused=!1,this.isEnabled=!1,this.isHidden=!1,this.serverTimeOffset=0,this.labels=window.timerLabels||{days:["день","дня","днів"],hours:["година","години","годин"],minutes:["хвилина","хвилини","хвилин"],seconds:["секунда","секунди","секунд"]},this.init()}init(){0!==this.timerElement.length&&(this.loadTimerData(),this.startTimer())}loadTimerData(){"undefined"!=typeof timer_ajax&&$.ajax({url:timer_ajax.ajaxurl,type:"POST",data:{action:"get_timer_data",nonce:timer_ajax.nonce},success:e=>{var t,i;e.success&&e.data&&(e=e.data,this.isEnabled=e.enabled,this.isPaused=e.paused,this.isHidden=e.hidden,this.endTime=1e3*e.endTimestamp,this.labels=e.labels||this.labels,e.texts&&e.texts.title&&$(".timer-title").text(e.texts.title),t=e.timeLeft,i=Math.max(0,this.endTime-Date.now()),this.serverTimeOffset=i-t,this.updatePrices(e),!this.isEnabled||this.isHidden||e.expired?this.hideTimer():(this.showTimer(),this.updateDisplay()))},error:(e,t,i)=>{}})}updatePrices(e){var t="",t=(t+=`
        <div class="price-block__item left">
          <div class="price-block__old-price">
            ${e.regular.oldPrice}
          </div>
          <div class="price-block__new-price">
            ${e.regular.newPrice}
          </div>
        </div>
        <div class="price-block__item right">
          <div class="price-block__small-label">
            ${e.regular.smallLabel}
          </div>
          <div class="price-block__discount">
            ${e.regular.discount}
          </div>
        </div>
      `)+`
        <div class="price-block__item left">
          <div class="price-block__old-price">
            ${e.vip.oldPrice}
          </div>
          <div class="price-block__new-price">
            ${e.vip.newPrice}
          </div>
        </div>
        <div class="price-block__item right">
          <div class="price-block__small-label">
            ${e.vip.smallLabel}
          </div>
          <div class="price-block__discount">
            ${e.vip.discount}
          </div>
        </div>
      `;this.pricesElement.html(t)}startTimer(){this.interval&&clearInterval(this.interval),this.interval=setInterval(()=>{this.isPaused||!this.isEnabled||this.isHidden||this.updateDisplay()},1e3)}updateDisplay(){var e,t,i,n=Date.now()+this.serverTimeOffset,n=Math.max(0,this.endTime-n);n<=0?this.hideTimer():(e=Math.floor(n/864e5),t=Math.floor(n%864e5/36e5),i=Math.floor(n%36e5/6e4),n=Math.floor(n%6e4/1e3),0<this.daysElement.length&&this.daysElement.text(e.toString().padStart(2,"0")),0<this.hoursElement.length&&this.hoursElement.text(t.toString().padStart(2,"0")),0<this.minutesElement.length&&this.minutesElement.text(i.toString().padStart(2,"0")),0<this.secondsElement.length&&this.secondsElement.text(n.toString().padStart(2,"0")),this.daysLabelElement.text(this.getTimeLabel(e,this.labels.days)),this.hoursLabelElement.text(this.getTimeLabel(t,this.labels.hours)),this.minutesLabelElement.text(this.getTimeLabel(i,this.labels.minutes)),this.secondsLabelElement.text(this.getTimeLabel(n,this.labels.seconds)))}getTimeLabel(e,t){return"day"===t[0]||"hour"===t[0]||"minute"===t[0]||"second"===t[0]?1===e?t[0]:t[1]:11<=e&&e<=19?t[2]:1==(e=e%10)?t[0]:2<=e&&e<=4?t[1]:t[2]}showTimer(){this.timerElement.show()}hideTimer(){this.timerElement.hide(),this.interval&&(clearInterval(this.interval),this.interval=null)}destroy(){this.interval&&(clearInterval(this.interval),this.interval=null)}},document.addEventListener("visibilitychange",function(){window.conferenceTimer&&!document.hidden&&window.conferenceTimer.loadTimerData()}),window.addEventListener("focus",function(){window.conferenceTimer&&window.conferenceTimer.loadTimerData()})}function initMarque(){var t=document.querySelector(".marque-items");if(t){var i=window.innerWidth<=480?"60s":"30s",n=t.innerHTML;t.innerHTML=n+n;t=document.createElement("style");t.textContent=`
    .marque-items {
      animation: marquee-scroll var(--marquee-duration, ${i}) linear infinite;
    }
    
    @keyframes marquee-scroll {
      0% {
        transform: translateX(0);
      }
      100% {
        transform: translateX(-50%);
      }
    }
    
    .marque-items:hover {
      animation-play-state: paused;
    }
  `,document.querySelector("#marquee-styles")||(t.id="marquee-styles",document.head.appendChild(t)),document.documentElement.style.setProperty("--marquee-duration",i);let e;window.addEventListener("resize",()=>{clearTimeout(e),e=setTimeout(()=>{(()=>{var e=window.innerWidth;let t;t=e<=480?"60s":"30s",document.documentElement.style.setProperty("--marquee-duration",t)})()},250)})}}function initSupport(){var e=document.querySelector(".support-icon");let t=document.querySelector(".support-block");var i=document.querySelectorAll(".support-items a");e&&t&&(e.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t.classList.toggle("active")}),i.forEach(function(e){e.addEventListener("click",function(){t.classList.remove("active")})}),document.addEventListener("click",function(e){e.target.closest(".support-icon")||e.target.closest(".support-block")||t.classList.remove("active")}))}window.addEventListener("resize",()=>{clearTimeout(resizeTimeout),resizeTimeout=setTimeout(()=>{initMenu(),initSpeakersLoadMore(),initScheduleVisibility(),initMarque(),initSupport()},300)});